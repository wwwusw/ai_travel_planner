import { parseItinerary } from './itineraryParser.js'

// 南京旅行计划测试数据
const nanjingPlan = `1. 行程概览：  
   - 旅行主题：金陵古韵·舌尖之旅  
   - 适合人群：独行美食爱好者、历史文化探索者  
   - 行程亮点：深度体验南京地道小吃与老字号美食，结合六朝古都的历史文化景点，兼顾休闲与探索，行程节奏舒缓，适合单人慢游。

2. 详细行程安排（按天）：

   - 第1天：抵达南京 & 老城南初探  
     - 上午：抵达南京（建议乘坐高铁至南京南站），乘坐地铁1号线前往酒店办理入住（推荐新街口或夫子庙区域）。  
     - 中午：在【回味鸭血粉丝汤（老门东店）】品尝正宗鸭血粉丝汤、盐水鸭。  
     - 下午：漫步【老门东历史文化街区】，探访传统民居、文创小店，顺路打卡【德云社（南京分社）】外景。  
     - 晚上：夜游【夫子庙秦淮河风光带】，乘画舫夜游秦淮河（约80元），晚餐在【奇芳阁】享用秦淮八绝小吃套餐（约60元）。

   - 第2天：六朝古都文化 & 美食寻味  
     - 上午：参观【中山陵】（免费，需预约），登顶俯瞰紫金山风光。  
     - 中午：在【中山陵永丰诗舍】或山脚下的【南京大牌档（中山陵店）】用餐，推荐美龄粥、天王烤鸭包、古法糖芋苗。  
     - 下午：游览【明孝陵】（门票70元）及【石象路】，感受明代皇家陵寝的庄严。  
     - 晚上：前往【科巷】美食街，自由探索地道小吃：许阿姨糕团店（青团、糯米藕）、陶记正宗德州扒鸡（藕饼、炸鸡）、项记面馆（皮肚面）。

   - 第3天：民国风情 & 湖光山色  
     - 上午：参观【总统府】（门票40元），了解近代中国历史。  
     - 中午：在【小潘记·鸭血粉丝汤（王府大街店）】或【金宏兴鸭子店】品尝鸭馔。  
     - 下午：漫步【颐和路公馆区】，欣赏民国建筑群，随后前往【玄武湖公园】（免费）环湖散步或租自行车骑行。  
     - 晚上：在【狮子桥美食街】或【湖南路】选择餐厅，推荐【小厨娘淮扬菜（湖南路店）】，尝试清炖狮子头、软兜长鱼等淮扬名菜。

   - 第4天：文艺慢生活 & 非遗体验  
     - 上午：参观【南京博物院】（免费，需提前预约），重点看历史馆与民国馆。  
     - 中午：在博物院附近【绿柳居】（清真老字号）用餐，推荐素菜包、松子烧卖。  
     - 下午：前往【先锋书店（五台山总店）】打卡“中国最美书店”，随后逛【1912街区】，感受新旧交融的文艺氛围。  
     - 晚上：在【评事街】或【三七八巷】寻味本地人私藏小吃，如【左师傅梅花糕】、【李记清真馆锅贴】。

   - 第5天：休闲返程  
     - 上午：早起前往【鸡鸣寺】（门票10元，含樱花季特供素面），登台城城墙俯瞰玄武湖。  
     - 中午：在鸡鸣寺旁【古南都·素菜馆】或【鸡鸣汤包】享用最后一顿南京风味。  
     - 下午：根据返程时间，可选购伴手礼（如盐水鸭真空包装、雨花茶），前往南京南站/禄口机场返程。

3. 住宿推荐：  
   - 推荐区域：新街口（交通便利、美食集中）或夫子庙（夜景优美、靠近景点）  
   - 酒店类型：舒适型精品酒店或设计型民宿，预算约300–400元/晚。推荐：  
     - 【南京夜泊秦淮君亭酒店】（夫子庙，约380元/晚）  
     - 【全季酒店（新街口店）】（约320元/晚）

4. 餐饮推荐：  
   - 特色美食：鸭血粉丝汤、盐水鸭、皮肚面、牛肉锅贴、糖芋苗、赤豆元宵、梅花糕、美龄粥、金陵烤鸭、活珠子（可选尝试）  
   - 推荐餐厅：  
     - 南京大牌档（多家分店，人均60–80元）  
     - 小潘记鸭血粉丝汤（王府大街店，人均30元）  
     - 金宏兴鸭子店（中华老字号，人均40元）  
     - 奇芳阁（夫子庙，秦淮小吃代表，人均50元）  
     - 小厨娘淮扬菜（人均80–100元）  
     - 李记清真馆（锅贴必吃，人均20元）

5. 预算分析（按1人计算）：  
   - 交通费用：  
     - 往返高铁/机票（以二线城市为例，往返约1200元）  
     - 市内地铁+打车：约150元  
     - 小计：1350元  
   - 住宿费用：4晚 × 350元 = 1400元  
   - 餐饮费用：日均200元 × 5天 = 1000元（含特色餐厅与小吃）  
   - 门票费用：  
     - 中山陵（免费）  
     - 明孝陵：70元  
     - 总统府：40元  
     - 秦淮河画舫：80元  
     - 鸡鸣寺：10元  
     - 小计：200元  
   - 其他费用：  
     - 伴手礼（盐水鸭、雨花茶等）：200元  
     - 应急/零食/水：150元  
     - 小计：350元  
   - 总计：1350 + 1400 + 1000 + 200 + 350 = **4300元**`

console.log('测试南京行程解析器:')
const result = parseItinerary(nanjingPlan)
console.log(JSON.stringify(result, null, 2))